# https://esphome.io/components/esphome
# https://community.home-assistant.io/t/esp32-s3-compatibily-and-m5-paper-s3/876573/4
esphome:
  name: '${node_name}'
  # https://github.com/esphome/feature-requests/issues/2476
  # https://community.home-assistant.io/t/how-is-friendly-name-supposed-to-behave/542570/9
  # see more info at https://github.com/jzucker2/goober/blob/master/notes/ESPHOME.md
  # friendly_name: ${friendly_name}
  # name_add_mac_suffix: false
  area: ${area}
  comment: ${comment}
  project: !include ../default_project.yaml
  platformio_options:
    build_flags: "-DBOARD_HAS_PSRAM"
    board_upload.maximum_size: 16777216
    board_build.arduino.memory_type: qio_opi
  libraries:
    - https://github.com/patrick3399/epdiy
  on_boot:
    then:
      - pcf8563.read_time:
      - script.execute: play_startup_sequence_script
      - delay: 5s
      - component.update: ed047tc1_display
      - lambda: |-
          id(system_initialized) = true;
