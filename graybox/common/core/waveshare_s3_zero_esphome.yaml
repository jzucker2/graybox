# https://esphome.io/components/esphome
esphome:
  name: '${node_name}'
  # https://github.com/esphome/feature-requests/issues/2476
  # https://community.home-assistant.io/t/how-is-friendly-name-supposed-to-behave/542570/9
  # see more info at https://github.com/jzucker2/goober/blob/master/notes/ESPHOME.md
  # friendly_name: ${friendly_name}
  # name_add_mac_suffix: false
  area: ${area}
  comment: ${comment}
  project: !include ../default_project.yaml
  # https://github.com/espressif/esp-idf/blob/5c51472e82a58098dda8d40a1c4f250c374fc900/docs/en/migration-guides/release-5.x/5.0/peripherals.rst#api-changes
  # Workaround for Button (GPIO39) randomly triggering
  # Increases power usage slightly (~1mA)
  # https://docs.espressif.com/projects/esp-idf/en/v4.4/esp32/api-reference/peripherals/adc.html#_CPPv412adc1_get_raw14adc1_channel_t
  # https://github.com/esphome/issues/issues/6323
  platformio_options:
    build_flags: "-DBOARD_HAS_PSRAM"
    board_build.flash_mode: dio
    board_build.f_flash: 40000000L
    board_build.flash_size: 4MB
